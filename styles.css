/* ==== Responsive tidy-up: 8×4(横向き) / 4×8(縦向き) ==== */

/* まず既存の固定サイズを上書き（幅・高さの固定をやめる） */
.card-grid {
  display: grid;
  /* 横向きは 8 列が基本 */
  grid-template-columns: repeat(8, minmax(0, 1fr)) !important;
  gap: clamp(8px, 1.2vw, 16px);
  justify-content: center;
  padding: clamp(12px, 2vw, 24px);
}

.card {
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 3 / 4; /* カードを縦長で一定比率に */
  position: relative;
  cursor: pointer;
  perspective: 1000px;
}

/* スマホ/タブレットの縦向きは 4 列固定（＝4×8） */
@media (orientation: portrait) {
  .card-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  }
}

/* きつい横向き幅でも 8 列を維持しつつ余白だけ縮める */
@media (max-width: 1024px) and (orientation: landscape) {
  .card-grid { gap: clamp(6px, 1vw, 12px); }
}

/* 極小画面の保険（縦向きのときだけカードをやや横長にして収まり改善） */
@media (max-width: 480px) and (orientation: portrait) {
  .card { aspect-ratio: 2.6 / 4; }
}

/* CloudFront運用時の404回避：CSSの表面画像は使わない（JSの<img>に任せる） */
.card-front {
  background-image: none !important;
}
